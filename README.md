# üõçÔ∏è Tugboat Buy from Markets

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram-–ø—Ä–æ–µ–∫—Ç –¥–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–∫—É–ø–∫–∏ NFT-–ø–æ–¥–∞—Ä–∫–æ–≤** —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã Fragment —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `aportalsmp`.

---

## üöÄ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞ –ø–æ—Ä—Ç–∞–ª–µ APortals.
- –•—Ä–∞–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ PostgreSQL.
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏—Å–∫–∞—Ç—å –ø–æ–¥–∞—Ä–∫–∏ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å JSON —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏.
- –ò—Å–∫–ª—é—á–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (anti-—Å–ø–∞–º).
- –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å JSON –Ω–∞ –≤—Ç–æ—Ä–æ–π –≤–æ—Ä–∫–µ—Ä (–ø–æ–∫—É–ø—â–∏–∫) –ø–æ —Å–æ–∫–µ—Ç–∞–º.
- –í–µ—Å—Ç–∏ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
- –£–¥–∞–ª—è—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏ `.json`-—Ñ–∞–π–ª—ã –∏–∑ `data/`.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
.
‚îú‚îÄ‚îÄ bot/                  # Telegram-–±–æ—Ç (aiogram)
‚îÇ   ‚îú‚îÄ‚îÄ handlers/         # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ services/         # –õ–æ–≥–∏–∫–∞ (—Ä–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ —Ç.–¥.)
‚îÇ   ‚îî‚îÄ‚îÄ bot.py            # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

‚îú‚îÄ‚îÄ db/                   # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL + SQLAlchemy)
‚îÇ   ‚îú‚îÄ‚îÄ models.py         # ORM-–º–æ–¥–µ–ª–∏ (User, Filter, PendingGift)
‚îÇ   ‚îú‚îÄ‚îÄ db.py             # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –∏ —Å–µ—Å—Å–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ filters_service.py        # CRUD –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º JSON
‚îÇ   ‚îî‚îÄ‚îÄ pending_gift_service.py # –†–∞–±–æ—Ç–∞ —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ –ø–æ–¥–∞—Ä–∫–∞–º–∏

‚îú‚îÄ‚îÄ worker/               # –í–æ—Ä–∫–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ search_worker.py  # –ü–æ–∏—Å–∫ –ø–æ–¥–∞—Ä–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º (–∫–∞–∂–¥—ã–µ X —Å–µ–∫—É–Ω–¥)
‚îÇ   ‚îú‚îÄ‚îÄ autobuy_worker.py # –ü–æ–ª—É—á–µ–Ω–∏–µ JSON –∏ –ø–æ–∫—É–ø–∫–∞ —á–µ—Ä–µ–∑ `.buy()`
‚îÇ   ‚îî‚îÄ‚îÄ socket_client.py  # TCP-—Å–æ–∫–µ—Ç –∫–ª–∏–µ–Ω—Ç

‚îú‚îÄ‚îÄ aportals/             # –†–∞–±–æ—Ç–∞ —Å API APortals
‚îÇ   ‚îú‚îÄ‚îÄ auth.py           # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ search_logic.py   # –ü–æ–∏—Å–∫ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º

‚îú‚îÄ‚îÄ config.py             # –ö–æ–Ω—Ñ–∏–≥ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏–∑ .env
‚îú‚îÄ‚îÄ .env.example          # –ü—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞
‚îú‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ main.py               # –¢–æ—á–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –∏ –≤–æ—Ä–∫–µ—Ä–æ–≤


‚öôÔ∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
pip install -r requirements.txt


–°–æ–∑–¥–∞–π .env –Ω–∞ –æ—Å–Ω–æ–≤–µ .env.example:
API_ID=...
API_HASH=...
SESSION_NAME=...
DATABASE_URL=postgresql+asyncpg://user:pass@localhost/dbname


–ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç:
python main.py


üíæ –§–æ—Ä–º–∞—Ç JSON-—Ñ–∞–π–ª–æ–≤
–í—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ data/ —Å –∏–º–µ–Ω–µ–º:
{collection}_{model}_{backdrop}_{price_limit}.json


–ü—Ä–∏–º–µ—Ä:
Snoop_Dogg_Team_USA_Coral_Red_4.0.json